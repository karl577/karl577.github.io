/*
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(D){function B(){}function C(G){function F(I){I.prototype.option||(I.prototype.option=function(J){G.isPlainObject(J)&&(this.options=G.extend(!0,this.options,J))})}function E(I,J){G.fn[I]=function(M){if("string"==typeof M){for(var K=A.call(arguments,1),L=0,N=this.length;N>L;L++){var P=this[L],Q=G.data(P,I);if(Q){if(G.isFunction(Q[M])&&"_"!==M.charAt(0)){var O=Q[M].apply(Q,K);if(void 0!==O){return O}}else{H("no such method '"+M+"' for "+I+" instance")}}else{H("cannot call methods on "+I+" prior to initialization; attempted to call '"+M+"'")}}return this}return this.each(function(){var R=G.data(this,I);R?(R.option(M),R._init()):(R=new J(this,M),G.data(this,I,R))})}}if(G){var H="undefined"==typeof console?B:function(I){console.error(I)};return G.bridget=function(J,I){F(I),E(J,I)},G.bridget}}var A=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],C):C(D.jQuery)}(window),function(E){function C(G){var H=E.event;return H.target=H.target||H.srcElement||G,H}var D=document.documentElement,A=function(){};D.addEventListener?A=function(I,G,H){I.addEventListener(G,H,!1)}:D.attachEvent&&(A=function(I,H,G){I[H+G]=G.handleEvent?function(){var J=C(I);G.handleEvent.call(G,J)}:function(){var J=C(I);G.call(I,J)},I.attachEvent("on"+H,I[H+G])});var B=function(){};D.removeEventListener?B=function(I,G,H){I.removeEventListener(G,H,!1)}:D.detachEvent&&(B=function(J,H,I){J.detachEvent("on"+H,J[H+I]);try{delete J[H+I]}catch(G){J[H+I]=void 0}});var F={bind:A,unbind:B};"function"==typeof define&&define.amd?define("eventie/eventie",F):"object"==typeof exports?module.exports=F:E.eventie=F}(this),function(E){function C(G){"function"==typeof G&&(C.isReady?G():F.push(G))}function D(K){var J="readystatechange"===K.type&&"complete"!==B.readyState;if(!C.isReady&&!J){C.isReady=!0;for(var H=0,G=F.length;G>H;H++){var I=F[H];I()}}}function A(G){return G.bind(B,"DOMContentLoaded",D),G.bind(B,"readystatechange",D),G.bind(E,"load",D),C}var B=E.document,F=[];C.isReady=!1,"function"==typeof define&&define.amd?(C.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],A)):E.docReady=A(E.eventie)}(this),function(){function E(){}function C(I,G){for(var H=I.length;H--;){if(I[H].listener===G){return H}}return -1}function D(G){return function(){return this[G].apply(this,arguments)}}var A=E.prototype,B=this,F=B.EventEmitter;A.getListeners=function(J){var H,I,G=this._getEvents();if(J instanceof RegExp){H={};for(I in G){G.hasOwnProperty(I)&&J.test(I)&&(H[I]=G[I])}}else{H=G[J]||(G[J]=[])}return H},A.flattenListeners=function(I){var G,H=[];for(G=0;G<I.length;G+=1){H.push(I[G].listener)}return H},A.getListenersAsObject=function(I){var G,H=this.getListeners(I);return H instanceof Array&&(G={},G[I]=H),G||H},A.addListener=function(J,I){var G,H=this.getListenersAsObject(J),K="object"==typeof I;for(G in H){H.hasOwnProperty(G)&&-1===C(H[G],I)&&H[G].push(K?I:{listener:I,once:!1})}return this},A.on=D("addListener"),A.addOnceListener=function(H,G){return this.addListener(H,{listener:G,once:!0})},A.once=D("addOnceListener"),A.defineEvent=function(G){return this.getListeners(G),this},A.defineEvents=function(H){for(var G=0;G<H.length;G+=1){this.defineEvent(H[G])}return this},A.removeListener=function(J,I){var G,H,K=this.getListenersAsObject(J);for(H in K){K.hasOwnProperty(H)&&(G=C(K[H],I),-1!==G&&K[H].splice(G,1))}return this},A.off=D("removeListener"),A.addListeners=function(H,G){return this.manipulateListeners(!1,H,G)},A.removeListeners=function(H,G){return this.manipulateListeners(!0,H,G)},A.manipulateListeners=function(L,J,K){var H,I,M=L?this.removeListener:this.addListener,G=L?this.removeListeners:this.addListeners;if("object"!=typeof J||J instanceof RegExp){for(H=K.length;H--;){M.call(this,J,K[H])}}else{for(H in J){J.hasOwnProperty(H)&&(I=J[H])&&("function"==typeof I?M.call(this,H,I):G.call(this,H,I))}}return this},A.removeEvent=function(J){var H,I=typeof J,G=this._getEvents();if("string"===I){delete G[J]}else{if(J instanceof RegExp){for(H in G){G.hasOwnProperty(H)&&J.test(H)&&delete G[H]}}else{delete this._events}}return this},A.removeAllListeners=D("removeEvent"),A.emitEvent=function(L,J){var K,H,I,M,G=this.getListenersAsObject(L);for(I in G){if(G.hasOwnProperty(I)){for(H=G[I].length;H--;){K=G[I][H],K.once===!0&&this.removeListener(L,K.listener),M=K.listener.apply(this,J||[]),M===this._getOnceReturnValue()&&this.removeListener(L,K.listener)}}}return this},A.trigger=D("emitEvent"),A.emit=function(H){var G=Array.prototype.slice.call(arguments,1);return this.emitEvent(H,G)},A.setOnceReturnValue=function(G){return this._onceReturnValue=G,this},A._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},A._getEvents=function(){return this._events||(this._events={})},E.noConflict=function(){return B.EventEmitter=F,E},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return E}):"object"==typeof module&&module.exports?module.exports=E:this.EventEmitter=E}.call(this),function(D){function B(G){if(G){if("string"==typeof A[G]){return G}G=G.charAt(0).toUpperCase()+G.slice(1);for(var F,E=0,H=C.length;H>E;E++){if(F=C[E]+G,"string"==typeof A[F]){return F}}}}var C="Webkit Moz ms Ms O".split(" "),A=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return B}):"object"==typeof exports?module.exports=B:D.getStyleProperty=B}(window),function(F){function D(J){var H=parseFloat(J),I=-1===J.indexOf("%")&&!isNaN(H);return I&&H}function E(){for(var K={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},I=0,J=A.length;J>I;I++){var H=A[I];K[H]=0}return K}function B(K){function I(Z){if("string"==typeof Z&&(Z=document.querySelector(Z)),Z&&"object"==typeof Z&&Z.nodeType){var b=G(Z);if("none"===b.display){return E()}var c={};c.width=Z.offsetWidth,c.height=Z.offsetHeight;for(var U=c.isBorderBox=!(!L||!b[L]||"border-box"!==b[L]),X=0,Y=A.length;Y>X;X++){var V=A[X],W=b[V];W=H(Z,W);var O=parseFloat(W);c[V]=isNaN(O)?0:O}var P=c.paddingLeft+c.paddingRight,M=c.paddingTop+c.paddingBottom,N=c.marginLeft+c.marginRight,S=c.marginTop+c.marginBottom,T=c.borderLeftWidth+c.borderRightWidth,Q=c.borderTopWidth+c.borderBottomWidth,R=U&&J,f=D(b.width);f!==!1&&(c.width=f+(R?0:P+T));var g=D(b.height);return g!==!1&&(c.height=g+(R?0:M+Q)),c.innerWidth=c.width-(P+T),c.innerHeight=c.height-(M+Q),c.outerWidth=c.width+N,c.outerHeight=c.height+S,c}}function H(Q,O){if(C||-1===O.indexOf("%")){return O}var P=Q.style,N=P.left,R=Q.runtimeStyle,M=R&&R.left;return M&&(R.left=Q.currentStyle.left),P.left=O,O=P.pixelLeft,P.left=N,M&&(R.left=M),O}var J,L=K("boxSizing");return function(){if(L){var O=document.createElement("div");O.style.width="200px",O.style.padding="1px 2px 3px 4px",O.style.borderStyle="solid",O.style.borderWidth="1px 2px 3px 4px",O.style[L]="border-box";var N=document.body||document.documentElement;N.appendChild(O);var M=G(O);J=200===D(M.width),N.removeChild(O)}}(),I}var C=F.getComputedStyle,G=C?function(H){return C(H,null)}:function(H){return H.currentStyle},A=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],B):"object"==typeof exports?module.exports=B(require("get-style-property")):F.getSize=B(F.getStyleProperty)}(window),function(G,E){function F(L,K){return L[C](K)}function J(L){if(!L.parentNode){var K=document.createDocumentFragment();K.appendChild(L)}}function A(N,L){J(N);for(var M=N.parentNode.querySelectorAll(L),K=0,O=M.length;O>K;K++){if(M[K]===N){return !0}}return !1}function H(L,K){return J(L),F(L,K)}var I,C=function(){if(E.matchesSelector){return"matchesSelector"}for(var N=["webkit","moz","ms","o"],M=0,K=N.length;K>M;M++){var L=N[M],O=L+"MatchesSelector";if(E[O]){return O}}}();if(C){var D=document.createElement("div"),B=F(D,"div");I=B?F:H}else{I=A}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return I}):window.matchesSelector=I}(this,Element.prototype),function(F){function D(J,H){for(var I in H){J[I]=H[I]}return J}function E(I){for(var H in I){return !1}return H=null,!0}function B(H){return H.replace(/([A-Z])/g,function(I){return"-"+I.toLowerCase()})}function C(U,H,V){function O(X,W){X&&(this.element=X,this.layout=W,this.position={x:0,y:0},this._create())}var P=V("transition"),M=V("transform"),N=P&&M,S=!!V("perspective"),T={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[P],Q=["transform","transition","transitionDuration","transitionProperty"],R=function(){for(var f={},Y=0,Z=Q.length;Z>Y;Y++){var W=Q[Y],X=V(W);X&&X!==W&&(f[W]=X)}return f}();D(O.prototype,U.prototype),O.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},O.prototype.handleEvent=function(X){var W="on"+X.type;this[W]&&this[W](X)},O.prototype.getSize=function(){this.size=H(this.element)},O.prototype.css=function(Z){var X=this.element.style;for(var Y in Z){var W=R[Y]||Y;X[W]=Z[Y]}},O.prototype.getPosition=function(){var i=A(this.element),Z=this.layout.options,g=Z.isOriginLeft,X=Z.isOriginTop,Y=parseInt(i[g?"left":"right"],10),j=parseInt(i[X?"top":"bottom"],10);Y=isNaN(Y)?0:Y,j=isNaN(j)?0:j;var W=this.layout.size;Y-=g?W.paddingLeft:W.paddingRight,j-=X?W.paddingTop:W.paddingBottom,this.position.x=Y,this.position.y=j},O.prototype.layoutPosition=function(){var Y=this.layout.size,W=this.layout.options,X={};W.isOriginLeft?(X.left=this.position.x+Y.paddingLeft+"px",X.right=""):(X.right=this.position.x+Y.paddingRight+"px",X.left=""),W.isOriginTop?(X.top=this.position.y+Y.paddingTop+"px",X.bottom=""):(X.bottom=this.position.y+Y.paddingBottom+"px",X.top=""),this.css(X),this.emitEvent("layout",[this])};var J=S?function(X,W){return"translate3d("+X+"px, "+W+"px, 0)"}:function(X,W){return"translate("+X+"px, "+W+"px)"};O.prototype._transitionTo=function(o,m){this.getPosition();var n=this.position.x,r=this.position.y,W=parseInt(o,10),p=parseInt(m,10),q=W===this.position.x&&p===this.position.y;if(this.setPosition(o,m),q&&!this.isTransitioning){return void this.layoutPosition()}var Z=o-n,l=m-r,X={},Y=this.layout.options;Z=Y.isOriginLeft?Z:-Z,l=Y.isOriginTop?l:-l,X.transform=J(Z,l),this.transition({to:X,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},O.prototype.goTo=function(X,W){this.setPosition(X,W),this.layoutPosition()},O.prototype.moveTo=N?O.prototype._transitionTo:O.prototype.goTo,O.prototype.setPosition=function(X,W){this.position.x=parseInt(X,10),this.position.y=parseInt(W,10)},O.prototype._nonTransition=function(X){this.css(X.to),X.isCleaning&&this._removeStyles(X.to);for(var W in X.onTransitionEnd){X.onTransitionEnd[W].call(this)}},O.prototype._transition=function(Z){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(Z)}var X=this._transn;for(var Y in Z.onTransitionEnd){X.onEnd[Y]=Z.onTransitionEnd[Y]}for(Y in Z.to){X.ingProperties[Y]=!0,Z.isCleaning&&(X.clean[Y]=!0)}if(Z.from){this.css(Z.from);var W=this.element.offsetHeight;W=null}this.enableTransition(Z.to),this.css(Z.to),this.isTransitioning=!0};var K=M&&B(M)+",opacity";O.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:K,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(T,this,!1))},O.prototype.transition=O.prototype[P?"_transition":"_nonTransition"],O.prototype.onwebkitTransitionEnd=function(W){this.ontransitionend(W)},O.prototype.onotransitionend=function(W){this.ontransitionend(W)};var L={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};O.prototype.ontransitionend=function(Z){if(Z.target===this.element){var Y=this._transn,W=L[Z.propertyName]||Z.propertyName;if(delete Y.ingProperties[W],E(Y.ingProperties)&&this.disableTransition(),W in Y.clean&&(this.element.style[Z.propertyName]="",delete Y.clean[W]),W in Y.onEnd){var X=Y.onEnd[W];X.call(this),delete Y.onEnd[W]}this.emitEvent("transitionEnd",[this])}},O.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(T,this,!1),this.isTransitioning=!1},O.prototype._removeStyles=function(Y){var W={};for(var X in Y){W[X]=""}this.css(W)};var I={transitionProperty:"",transitionDuration:""};return O.prototype.removeTransitionStyles=function(){this.css(I)},O.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},O.prototype.remove=function(){if(!P||!parseFloat(this.layout.options.transitionDuration)){return void this.removeElem()}var W=this;this.on("transitionEnd",function(){return W.removeElem(),!0}),this.hide()},O.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var W=this.layout.options;this.transition({from:W.hiddenStyle,to:W.visibleStyle,isCleaning:!0})},O.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var W=this.layout.options;this.transition({from:W.visibleStyle,to:W.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},O.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},O}var G=F.getComputedStyle,A=G?function(H){return G(H,null)}:function(H){return H.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],C):(F.Outlayer={},F.Outlayer.Item=C(F.EventEmitter,F.getSize,F.getStyleProperty))}(window),function(K){function I(Q,O){for(var P in O){Q[P]=O[P]}return Q}function J(O){return"[object Array]"===G.call(O)}function N(R){var Q=[];if(J(R)){Q=R}else{if(R&&"number"==typeof R.length){for(var O=0,P=R.length;P>O;O++){Q.push(R[O])}}else{Q.push(R)}}return Q}function A(Q,O){var P=F(O,Q);-1!==P&&O.splice(P,1)}function L(O){return O.replace(/(.)([A-Z])/g,function(R,P,Q){return P+"-"+Q}).toLowerCase()}function M(V,W,U,S,T,Q){function R(Z,Y){if("string"==typeof Z&&(Z=D.querySelector(Z)),!Z||!H(Z)){return void (E&&E.error("Bad "+this.constructor.namespace+" element: "+Z))}this.element=Z,this.options=I({},this.constructor.defaults),this.option(Y);var X=++O;this.element.outlayerGUID=X,P[X]=this,this._create(),this.options.isInitLayout&&this.layout()}var O=0,P={};return R.namespace="outlayer",R.Item=Q,R.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},I(R.prototype,U.prototype),R.prototype.option=function(X){I(this.options,X)},R.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),I(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},R.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},R.prototype._itemize=function(j){for(var Z=this._filterFindItemElements(j),i=this.constructor.Item,m=[],X=0,k=Z.length;k>X;X++){var l=Z[X],Y=new i(l,this);m.push(Y)}return m},R.prototype._filterFindItemElements=function(m){m=N(m);for(var k=this.options.itemSelector,l=[],X=0,n=m.length;n>X;X++){var o=m[X];if(H(o)){if(k){T(o,k)&&l.push(o);for(var Z=o.querySelectorAll(k),d=0,Y=Z.length;Y>d;d++){l.push(Z[d])}}else{l.push(o)}}}return l},R.prototype.getItemElements=function(){for(var Z=[],X=0,Y=this.items.length;Y>X;X++){Z.push(this.items[X].element)}return Z},R.prototype.layout=function(){this._resetLayout(),this._manageStamps();var X=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,X),this._isLayoutInited=!0},R.prototype._init=R.prototype.layout,R.prototype._resetLayout=function(){this.getSize()},R.prototype.getSize=function(){this.size=S(this.element)},R.prototype._getMeasurement=function(e,Y){var Z,X=this.options[e];X?("string"==typeof X?Z=this.element.querySelector(X):H(X)&&(Z=X),this[e]=Z?S(Z)[Y]:X):this[e]=0},R.prototype.layoutItems=function(Y,X){Y=this._getItemsForLayout(Y),this._layoutItems(Y,X),this._postLayout()},R.prototype._getItemsForLayout=function(g){for(var Z=[],f=0,X=g.length;X>f;f++){var Y=g[f];Y.isIgnored||Z.push(Y)}return Z},R.prototype._layoutItems=function(l,j){function k(){o.emitEvent("layoutComplete",[o,l])}var o=this;if(!l||!l.length){return void k()}this._itemsOn(l,"layout",k);for(var X=[],m=0,n=l.length;n>m;m++){var Y=l[m],Z=this._getItemLayoutPosition(Y);Z.item=Y,Z.isInstant=j||Y.isLayoutInstant,X.push(Z)}this._processLayoutQueue(X)},R.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},R.prototype._processLayoutQueue=function(e){for(var Y=0,Z=e.length;Z>Y;Y++){var X=e[Y];this._positionItem(X.item,X.x,X.y,X.isInstant)}},R.prototype._positionItem=function(e,Y,Z,X){X?e.goTo(Y,Z):e.moveTo(Y,Z)},R.prototype._postLayout=function(){this.resizeContainer()},R.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var X=this._getContainerSize();X&&(this._setContainerMeasure(X.width,!0),this._setContainerMeasure(X.height,!1))}},R.prototype._getContainerSize=C,R.prototype._setContainerMeasure=function(Z,X){if(void 0!==Z){var Y=this.size;Y.isBorderBox&&(Z+=X?Y.paddingLeft+Y.paddingRight+Y.borderLeftWidth+Y.borderRightWidth:Y.paddingBottom+Y.paddingTop+Y.borderTopWidth+Y.borderBottomWidth),Z=Math.max(Z,0),this.element.style[X?"width":"height"]=Z+"px"}},R.prototype._itemsOn=function(n,l,m){function q(){return X++,X===o&&m.call(p),!0}for(var X=0,o=n.length,p=this,Z=0,k=n.length;k>Z;Z++){var Y=n[Z];Y.on(l,q)}},R.prototype.ignore=function(Y){var X=this.getItem(Y);X&&(X.isIgnored=!0)},R.prototype.unignore=function(Y){var X=this.getItem(Y);X&&delete X.isIgnored},R.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var Y=0,Z=e.length;Z>Y;Y++){var X=e[Y];this.ignore(X)}}},R.prototype.unstamp=function(e){if(e=this._find(e)){for(var Y=0,Z=e.length;Z>Y;Y++){var X=e[Y];A(X,this.stamps),this.unignore(X)}}},R.prototype._find=function(X){return X?("string"==typeof X&&(X=this.element.querySelectorAll(X)),X=N(X)):void 0},R.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var Z=0,X=this.stamps.length;X>Z;Z++){var Y=this.stamps[Z];this._manageStamp(Y)}}},R.prototype._getBoundingRect=function(){var Y=this.element.getBoundingClientRect(),X=this.size;this._boundingRect={left:Y.left+X.paddingLeft+X.borderLeftWidth,top:Y.top+X.paddingTop+X.borderTopWidth,right:Y.right-(X.paddingRight+X.borderRightWidth),bottom:Y.bottom-(X.paddingBottom+X.borderBottomWidth)}},R.prototype._manageStamp=C,R.prototype._getElementOffset=function(g){var Z=g.getBoundingClientRect(),f=this._boundingRect,X=S(g),Y={left:Z.left-f.left-X.marginLeft,top:Z.top-f.top-X.marginTop,right:f.right-Z.right-X.marginRight,bottom:f.bottom-Z.bottom-X.marginBottom};return Y},R.prototype.handleEvent=function(Y){var X="on"+Y.type;this[X]&&this[X](Y)},R.prototype.bindResize=function(){this.isResizeBound||(V.bind(K,"resize",this),this.isResizeBound=!0)},R.prototype.unbindResize=function(){this.isResizeBound&&V.unbind(K,"resize",this),this.isResizeBound=!1},R.prototype.onresize=function(){function Y(){X.resize(),delete X.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var X=this;this.resizeTimeout=setTimeout(Y,100)},R.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},R.prototype.needsResizeLayout=function(){var Y=S(this.element),X=this.size&&Y;return X&&Y.innerWidth!==this.size.innerWidth},R.prototype.addItems=function(Y){var X=this._itemize(Y);return X.length&&(this.items=this.items.concat(X)),X},R.prototype.appended=function(Y){var X=this.addItems(Y);X.length&&(this.layoutItems(X,!0),this.reveal(X))},R.prototype.prepended=function(Z){var X=this._itemize(Z);if(X.length){var Y=this.items.slice(0);this.items=X.concat(Y),this._resetLayout(),this._manageStamps(),this.layoutItems(X,!0),this.reveal(X),this.layoutItems(Y)}},R.prototype.reveal=function(e){var Y=e&&e.length;if(Y){for(var Z=0;Y>Z;Z++){var X=e[Z];X.reveal()}}},R.prototype.hide=function(e){var Y=e&&e.length;if(Y){for(var Z=0;Y>Z;Z++){var X=e[Z];X.hide()}}},R.prototype.getItem=function(e){for(var Y=0,Z=this.items.length;Z>Y;Y++){var X=this.items[Y];if(X.element===e){return X}}},R.prototype.getItems=function(h){if(h&&h.length){for(var Z=[],g=0,X=h.length;X>g;g++){var Y=h[g],i=this.getItem(Y);i&&Z.push(i)}return Z}},R.prototype.remove=function(d){d=N(d);var Y=this.getItems(d);if(Y&&Y.length){this._itemsOn(Y,"remove",function(){this.emitEvent("removeComplete",[this,Y])});for(var Z=0,e=Y.length;e>Z;Z++){var X=Y[Z];X.remove(),A(X,this.items)}}},R.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var Y=0,Z=this.items.length;Z>Y;Y++){var X=this.items[Y];X.destroy()}this.unbindResize(),delete this.element.outlayerGUID,B&&B.removeData(this.element,this.constructor.namespace)},R.data=function(Y){var X=Y&&Y.outlayerGUID;return X&&P[X]},R.create=function(Z,Y){function X(){R.apply(this,arguments)}return Object.create?X.prototype=Object.create(R.prototype):I(X.prototype,R.prototype),X.prototype.constructor=X,X.defaults=I({},R.defaults),I(X.defaults,Y),X.prototype.settings={},X.namespace=Z,X.data=R.data,X.Item=function(){Q.apply(this,arguments)},X.Item.prototype=new Q,W(function(){for(var r=L(Z),s=D.querySelectorAll(".js-"+r),a="data-"+r+"-options",t=0,f=s.length;f>t;t++){var j,q=s[t],h=q.getAttribute(a);try{j=h&&JSON.parse(h)}catch(i){E&&E.error("Error parsing "+a+" on "+q.nodeName.toLowerCase()+(q.id?"#"+q.id:"")+": "+i);continue}var d=new X(q,j);B&&B.data(q,Z,d)}}),B&&B.bridget&&B.bridget(Z,X),X},R.Item=Q,R}var D=K.document,E=K.console,B=K.jQuery,C=function(){},G=Object.prototype.toString,H="object"==typeof HTMLElement?function(O){return O instanceof HTMLElement}:function(O){return O&&"object"==typeof O&&1===O.nodeType&&"string"==typeof O.nodeName},F=Array.prototype.indexOf?function(P,O){return P.indexOf(O)}:function(R,P){for(var Q=0,O=R.length;O>Q;Q++){if(R[Q]===P){return Q}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],M):K.Outlayer=M(K.eventie,K.docReady,K.EventEmitter,K.getSize,K.matchesSelector,K.Outlayer.Item)}(window),function(C){function A(F,E){var D=F.create("masonry");return D.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var G=this.cols;for(this.colYs=[];G--;){this.colYs.push(0)}this.maxY=0},D.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var H=this.items[0],G=H&&H.element;this.columnWidth=G&&E(G).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},D.prototype.getContainerWidth=function(){var H=this.options.isFitWidth?this.element.parentNode:this.element,G=E(H);this.containerWidth=G&&G.innerWidth},D.prototype._getItemLayoutPosition=function(N){N.getSize();var M=N.size.outerWidth%this.columnWidth,Q=M&&1>M?"round":"ceil",G=Math[Q](N.size.outerWidth/this.columnWidth);G=Math.min(G,this.cols);for(var O=this._getColGroup(G),P=Math.min.apply(Math,O),J=B(O,P),K={x:this.columnWidth*J,y:P},H=P+N.size.outerHeight,I=this.cols+1-O.length,L=0;I>L;L++){this.colYs[J+L]=H}return K},D.prototype._getColGroup=function(K){if(2>K){return this.colYs}for(var I=[],J=this.cols+1-K,G=0;J>G;G++){var H=this.colYs.slice(G,G+K);I[G]=Math.max.apply(Math,H)}return I},D.prototype._manageStamp=function(L){var K=E(L),O=this._getElementOffset(L),G=this.options.isOriginLeft?O.left:O.right,M=G+K.outerWidth,N=Math.floor(G/this.columnWidth);N=Math.max(0,N);var I=Math.floor(M/this.columnWidth);I-=M%this.columnWidth?0:1,I=Math.min(this.cols-1,I);for(var J=(this.options.isOriginTop?O.top:O.bottom)+K.outerHeight,H=N;I>=H;H++){this.colYs[H]=Math.max(J,this.colYs[H])}},D.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var G={height:this.maxY};return this.options.isFitWidth&&(G.width=this._getContainerFitWidth()),G},D.prototype._getContainerFitWidth=function(){for(var H=0,G=this.cols;--G&&0===this.colYs[G];){H++}return(this.cols-H)*this.columnWidth-this.gutter},D.prototype.needsResizeLayout=function(){var G=this.containerWidth;return this.getContainerWidth(),G!==this.containerWidth},D}var B=Array.prototype.indexOf?function(E,D){return E.indexOf(D)}:function(H,F){for(var G=0,D=H.length;D>G;G++){var E=H[G];if(E===F){return G}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],A):C.Masonry=A(C.Outlayer,C.getSize)}(window);