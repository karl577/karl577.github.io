/*
 * imagesLoaded PACKAGED v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function B(){}function F(G,I){for(var H=G.length;H--;){if(G[H].listener===I){return H}}return -1}function C(G){return function(){return this[G].apply(this,arguments)}}var A=B.prototype,D=this,E=D.EventEmitter;A.getListeners=function(H){var J,I,G=this._getEvents();if("object"==typeof H){J={};for(I in G){G.hasOwnProperty(I)&&H.test(I)&&(J[I]=G[I])}}else{J=G[H]||(G[H]=[])}return J},A.flattenListeners=function(G){var I,H=[];for(I=0;G.length>I;I+=1){H.push(G[I].listener)}return H},A.getListenersAsObject=function(G){var I,H=this.getListeners(G);return H instanceof Array&&(I={},I[G]=H),I||H},A.addListener=function(H,I){var G,J=this.getListenersAsObject(H),K="object"==typeof I;for(G in J){J.hasOwnProperty(G)&&-1===F(J[G],I)&&J[G].push(K?I:{listener:I,once:!1})}return this},A.on=C("addListener"),A.addOnceListener=function(G,H){return this.addListener(G,{listener:H,once:!0})},A.once=C("addOnceListener"),A.defineEvent=function(G){return this.getListeners(G),this},A.defineEvents=function(G){for(var H=0;G.length>H;H+=1){this.defineEvent(G[H])}return this},A.removeListener=function(H,I){var G,J,K=this.getListenersAsObject(H);for(J in K){K.hasOwnProperty(J)&&(G=F(K[J],I),-1!==G&&K[J].splice(G,1))}return this},A.off=C("removeListener"),A.addListeners=function(G,H){return this.manipulateListeners(!1,G,H)},A.removeListeners=function(G,H){return this.manipulateListeners(!0,G,H)},A.manipulateListeners=function(H,M,I){var G,J,K=H?this.removeListener:this.addListener,L=H?this.removeListeners:this.addListeners;if("object"!=typeof M||M instanceof RegExp){for(G=I.length;G--;){K.call(this,M,I[G])}}else{for(G in M){M.hasOwnProperty(G)&&(J=M[G])&&("function"==typeof J?K.call(this,G,J):L.call(this,G,J))}}return this},A.removeEvent=function(H){var J,I=typeof H,G=this._getEvents();if("string"===I){delete G[H]}else{if("object"===I){for(J in G){G.hasOwnProperty(J)&&H.test(J)&&delete G[J]}}else{delete this._events}}return this},A.removeAllListeners=C("removeEvent"),A.emitEvent=function(H,M){var I,G,J,K,L=this.getListenersAsObject(H);for(J in L){if(L.hasOwnProperty(J)){for(G=L[J].length;G--;){I=L[J][G],I.once===!0&&this.removeListener(H,I.listener),K=I.listener.apply(this,M||[]),K===this._getOnceReturnValue()&&this.removeListener(H,I.listener)}}}return this},A.trigger=C("emitEvent"),A.emit=function(G){var H=Array.prototype.slice.call(arguments,1);return this.emitEvent(G,H)},A.setOnceReturnValue=function(G){return this._onceReturnValue=G,this},A._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},A._getEvents=function(){return this._events||(this._events={})},B.noConflict=function(){return D.EventEmitter=E,B},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return B}):"object"==typeof module&&module.exports?module.exports=B:this.EventEmitter=B}).call(this),function(B){function F(H){var G=B.event;return G.target=G.target||G.srcElement||H,G}var C=document.documentElement,A=function(){};C.addEventListener?A=function(G,I,H){G.addEventListener(I,H,!1)}:C.attachEvent&&(A=function(H,I,G){H[I+G]=G.handleEvent?function(){var J=F(H);G.handleEvent.call(G,J)}:function(){var J=F(H);G.call(H,J)},H.attachEvent("on"+I,H[I+G])});var D=function(){};C.removeEventListener?D=function(G,I,H){G.removeEventListener(I,H,!1)}:C.detachEvent&&(D=function(H,J,I){H.detachEvent("on"+J,H[J+I]);try{delete H[J+I]}catch(G){H[J+I]=void 0}});var E={bind:A,unbind:D};"function"==typeof define&&define.amd?define("eventie/eventie",E):B.eventie=E}(this),function(A,B){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(D,C){return B(A,D,C)}):"object"==typeof exports?module.exports=B(A,require("eventEmitter"),require("eventie")):A.imagesLoaded=B(A,A.EventEmitter,A.eventie)}(window,function(C,D,H){function G(O,Q){for(var P in Q){O[P]=Q[P]}return O}function A(O){return"[object Array]"===N.call(O)}function I(P){var R=[];if(A(P)){R=P}else{if("number"==typeof P.length){for(var Q=0,O=P.length;O>Q;Q++){R.push(P[Q])}}else{R.push(P)}}return R}function B(P,R,Q){if(!(this instanceof B)){return new B(P,R)}"string"==typeof P&&(P=document.querySelectorAll(P)),this.elements=I(P),this.options=G({},this.options),"function"==typeof R?Q=R:G(this.options,R),Q&&this.on("always",Q),this.getImages(),L&&(this.jqDeferred=new L.Deferred);var O=this;setTimeout(function(){O.check()})}function K(O){this.img=O}function M(O){this.src=O,J[O]=this}var L=C.jQuery,E=C.console,F=E!==void 0,N=Object.prototype.toString;B.prototype=new D,B.prototype.options={},B.prototype.getImages=function(){this.images=[];for(var Q=0,R=this.elements.length;R>Q;Q++){var T=this.elements[Q];"IMG"===T.nodeName&&this.addImage(T);var S=T.nodeType;if(S&&(1===S||9===S||11===S)){for(var O=T.querySelectorAll("img"),U=0,P=O.length;P>U;U++){var V=O[U];this.addImage(V)}}}},B.prototype.addImage=function(O){var P=new K(O);this.images.push(P)},B.prototype.check=function(){function P(V,U){return T.options.debug&&F&&E.log("confirm",V,U),T.progress(V),Q++,Q===O&&T.complete(),!0}var T=this,Q=0,O=this.images.length;if(this.hasAnyBroken=!1,!O){return this.complete(),void 0}for(var R=0;O>R;R++){var S=this.images[R];S.on("confirm",P),S.check()}},B.prototype.progress=function(O){this.hasAnyBroken=this.hasAnyBroken||!O.isLoaded;var P=this;setTimeout(function(){P.emit("progress",P,O),P.jqDeferred&&P.jqDeferred.notify&&P.jqDeferred.notify(P,O)})},B.prototype.complete=function(){var O=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var P=this;setTimeout(function(){if(P.emit(O,P),P.emit("always",P),P.jqDeferred){var Q=P.hasAnyBroken?"reject":"resolve";P.jqDeferred[Q](P)}})},L&&(L.fn.imagesLoaded=function(O,Q){var P=new B(this,O,Q);return P.jqDeferred.promise(L(this))}),K.prototype=new D,K.prototype.check=function(){var O=J[this.img.src]||new M(this.img.src);if(O.isConfirmed){return this.confirm(O.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var P=this;O.on("confirm",function(Q,R){return P.confirm(Q.isLoaded,R),!0}),O.check()},K.prototype.confirm=function(O,P){this.isLoaded=O,this.emit("confirm",this,P)};var J={};return M.prototype=new D,M.prototype.check=function(){if(!this.isChecked){var O=new Image;H.bind(O,"load",this),H.bind(O,"error",this),O.src=this.src,this.isChecked=!0}},M.prototype.handleEvent=function(O){var P="on"+O.type;this[P]&&this[P](O)},M.prototype.onload=function(O){this.confirm(!0,"onload"),this.unbindProxyEvents(O)},M.prototype.onerror=function(O){this.confirm(!1,"onerror"),this.unbindProxyEvents(O)},M.prototype.confirm=function(O,P){this.isConfirmed=!0,this.isLoaded=O,this.emit("confirm",this,P)},M.prototype.unbindProxyEvents=function(O){H.unbind(O.target,"load",this),H.unbind(O.target,"error",this)},B});